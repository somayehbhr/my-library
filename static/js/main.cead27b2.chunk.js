(this["webpackJsonpmy-library"]=this["webpackJsonpmy-library"]||[]).push([[0],{27:function(e,t,c){},34:function(e,t,c){"use strict";c.r(t);var a=c(1),r=c.n(a),n=c(21),i=c.n(n),o=(c(27),c(11)),s=c(0),l=function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("ul",{className:"nav nav-tabs",id:"myTab",role:"tablist",children:[Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(o.b,{className:"nav-link",activeClassName:"active",id:"books-tab","data-toggle":"tab",to:"/books",role:"tab","aria-controls":"books","aria-selected":"true",children:"Books"})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(o.b,{className:"nav-link",activeClassName:"active",id:"authors-tab","data-toggle":"tab",to:"/authors",role:"tab","aria-controls":"authors","aria-selected":"false",children:"Authors"})})]})})},d=c(2),u=c(13),j=c(15),b=c(6),h=c(8),O=function(e){return Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"#"}),e.list.map((function(e){return Object(s.jsx)("th",{scope:"col",children:e},e)}))]})})},m=function(e){return Object(s.jsx)("button",{type:"button",className:"btn btn-".concat(e.className),onClick:e.onClick,children:e.text})},x=function(e){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:e.index+1}),Object(s.jsx)("td",{children:e.title}),Object(s.jsx)("td",{children:e.release_date}),Object(s.jsx)("td",{children:e.rate}),Object(s.jsx)("td",{children:e.author}),Object(s.jsx)("td",{children:e.category}),Object(s.jsx)("td",{children:e.price}),Object(s.jsxs)("td",{children:[Object(s.jsx)(m,{onClick:function(){return e.delete()},text:"Delete",className:"danger"}),Object(s.jsx)(m,{onClick:function(){return e.edit()},text:"Edit",className:"primary "})]})]})},f=function(e){var t=Object(a.useState)(""),c=Object(b.a)(t,2),r=c[0],n=c[1],i=Object(a.useState)(""),o=Object(b.a)(i,2),l=o[0],d=o[1],u=Object(a.useState)(""),j=Object(b.a)(u,2),O=j[0],x=j[1],f=Object(a.useState)(""),p=Object(b.a)(f,2),v=p[0],g=p[1],N=Object(a.useState)(""),y=Object(b.a)(N,2),k=y[0],S=y[1],C=Object(a.useState)(-1),w=Object(b.a)(C,2),_=w[0],F=w[1];return Object(a.useEffect)((function(){var t,c,a,r,i,o;n(null===(t=e.book)||void 0===t?void 0:t.title),d(null===(c=e.book)||void 0===c?void 0:c.release_date),x(null===(a=e.book)||void 0===a?void 0:a.rate),g(null===(r=e.book)||void 0===r?void 0:r.category),S(null===(i=e.book)||void 0===i?void 0:i.price),F(null===(o=e.book)||void 0===o?void 0:o.author_id)}),[e.book]),Object(s.jsxs)("form",{children:[Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col-md-4",children:[Object(s.jsx)("label",{htmlFor:"inputEmail4",children:"Title"}),Object(s.jsx)("input",{type:"text",className:"form-control",id:"autoSizingInput",placeholder:"Title",value:r,onChange:function(e){return n(e.target.value)}})]}),Object(s.jsxs)("div",{className:"col-md-4",children:[Object(s.jsx)("label",{htmlFor:"inputPassword4",children:"Release date"}),Object(s.jsx)("input",{type:"text",className:"form-control",id:"autoSizingInput",placeholder:"dd/mm/yyyy",value:l,onChange:function(e){return d(e.target.value)}})]}),Object(s.jsxs)("div",{className:"col-md-4",children:[Object(s.jsx)("label",{htmlFor:"inputPassword4",children:"Rate"}),Object(s.jsx)("input",{type:"number",className:"form-control",id:"autoSizingInput",placeholder:"Rate",value:O,onChange:function(e){return x(e.target.value)}})]})]}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col-md-4",children:[Object(s.jsx)("label",{htmlFor:"inputPassword4",children:"Category"}),Object(s.jsx)("input",{type:"text",className:"form-control",id:"autoSizingInput",placeholder:"Category",value:v,onChange:function(e){return g(e.target.value)}})]}),Object(s.jsxs)("div",{className:"col-md-4",children:[Object(s.jsx)("label",{htmlFor:"inputPassword4",children:"Price"}),Object(s.jsx)("input",{type:"text",className:"form-control",id:"autoSizingInput",placeholder:"Price",value:k,onChange:function(e){return S(e.target.value)}})]}),Object(s.jsxs)("div",{className:"col-md-4",children:[Object(s.jsx)("label",{htmlFor:"inputPassword4",children:"Authors"}),Object(s.jsxs)("select",{defaultValue:-1,className:"form-select",id:"autoSizingSelect",value:_,onChange:function(e){return F(Number(e.target.value))},children:[Object(s.jsx)("option",{value:-1,children:"Choose"}),h.authors.map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.fullName},e.id)}))]})]})]}),Object(s.jsx)("br",{}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col-md-3",children:Object(s.jsx)(m,{onClick:e.book?function(){e.edit({id:e.id,title:r,rate:O,release_date:l,category:v,price:k,author_id:_}),n(""),d(""),x(""),g(""),S(""),F(-1)}:function(){e.add({id:e.id,title:r,rate:O,release_date:l,category:v,price:k,author_id:_}),n(""),d(""),x(""),g(""),S(""),F(-1)},text:e.book?"Edit":"Add",className:e.book?"primary":"success"})})})]})},p=["title","release_date","rate","author","category","price","action"],v=function(){var e=Object(a.useState)(h.books),t=Object(b.a)(e,2),c=t[0],r=t[1],n=Object(a.useState)(),i=Object(b.a)(n,2),o=i[0],l=i[1];function d(e){var t;return null===(t=h.authors.find((function(t){return t.id===e})))||void 0===t?void 0:t.fullName}return Object(a.useEffect)((function(){var e=function(){try{return JSON.parse(window.localStorage.getItem("books"))}catch(e){return[]}}();Array.isArray(e)&&e.length?r(e):r(h.books)}),[]),Object(a.useEffect)((function(){!function(e){window.localStorage.setItem("books",JSON.stringify(e))}(c)}),[c]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(f,{id:c.length,add:function(e){var t=Math.floor(1e3*Math.random())+1,a=Object(u.a)(Object(u.a)({},e),{},{id:t});r([].concat(Object(j.a)(c),[a]))},book:o,edit:function(e){var t=Object(j.a)(c),a=t.indexOf(o);t.splice(a,1),r([e].concat(Object(j.a)(t))),l(null)}}),Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)(O,{list:p}),Object(s.jsx)("tbody",{children:c.map((function(e,t){return Object(s.jsx)(x,Object(u.a)(Object(u.a)({},e),{},{index:t,author:d(e.author_id),delete:(a=e.id,function(){var e=c.filter((function(e){return e.id!==a}));r(e)}),edit:function(){return function(e){l(c.find((function(t){return t.id===e})))}(e.id)}}),e.id);var a}))})]})]})},g=["fullName","number Of Books","action"],N=h.books,y=function(){var e=Object(a.useState)(h.authors),t=Object(b.a)(e,2),c=t[0],r=t[1];function n(e){return function(){var t=c.filter((function(t){return t.id!==e}));r(t)}}return Object(a.useEffect)((function(){var e=function(){try{return JSON.parse(window.localStorage.getItem("authors"))}catch(e){return[]}}();Array.isArray(e)&&e.length?r(e):r(h.authors)}),[]),Object(a.useEffect)((function(){!function(e){window.localStorage.setItem("authors",JSON.stringify(e))}(c)}),[c]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("form",{children:[Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col-md-4",children:[Object(s.jsx)("label",{htmlFor:"inputEmail4",children:"Full name"}),Object(s.jsx)("input",{type:"text",className:"form-control",id:"autoSizingInput",placeholder:"Full name"})]}),Object(s.jsxs)("div",{className:"col-md-4",children:[Object(s.jsx)("label",{htmlFor:"inputPassword4",children:"Number Of Books"}),Object(s.jsx)("input",{type:"text",className:"form-control",id:"autoSizingInput",placeholder:"Number Of Books"})]})]}),Object(s.jsx)("br",{}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col-md-3",children:Object(s.jsx)("button",{type:"button",className:"btn btn-success",children:"Add"})})})]}),Object(s.jsx)("br",{}),Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)(O,{list:g}),Object(s.jsx)("tbody",{children:c.map((function(e,t){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{scope:"col",children:t+1}),Object(s.jsx)("td",{scope:"col",children:e.fullName}),Object(s.jsx)("td",{scope:"col",children:(c=e.id,N.filter((function(e){return e.author_id===c})).length)}),Object(s.jsx)("td",{children:Object(s.jsx)(m,{onClick:n(e.id),text:"Delete",className:"danger"})})]},t);var c}))})]})]})},k=function(){return Object(s.jsxs)(o.a,{children:[Object(s.jsx)(l,{}),Object(s.jsx)(d.a,{from:"/",to:"/books",exact:!0}),Object(s.jsx)(d.b,{path:"/books",component:v}),Object(s.jsx)(d.b,{path:"/authors",component:y})]})};function S(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)(k,{})})}var C=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,35)).then((function(t){var c=t.getCLS,a=t.getFID,r=t.getFCP,n=t.getLCP,i=t.getTTFB;c(e),a(e),r(e),n(e),i(e)}))};i.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(S,{})}),document.getElementById("root")),C()},8:function(e){e.exports=JSON.parse('{"authors":[{"id":0,"fullName":"Marleah Coundley"},{"id":1,"fullName":"Boonie Browne"},{"id":2,"fullName":"Alyssa Mcimmie"},{"id":3,"fullName":"Storm Mityushin"},{"id":4,"fullName":"Maressa Tamas"}],"books":[{"id":0,"title":"The Far Country","release_date":"11/12/2002","rate":2.7,"category":"classic","author_id":4,"price":"81.46"},{"id":1,"title":"Phoenix","release_date":"12/2/2008","rate":6.2,"category":"drama","author_id":4,"price":"62.18"},{"id":2,"title":"Hail Caesar","release_date":"7/11/2010","rate":7.6,"category":"comic","author_id":2,"price":"24.85"},{"id":3,"title":"Valley Girl","release_date":"10/14/2008","rate":4.3,"category":"horror","author_id":0,"price":"83.17"},{"id":4,"title":"Long Absence, The (Une aussi longue absence)","release_date":"11/27/1996","rate":1.7,"category":"classic","author_id":3,"price":"83.36"}]}')}},[[34,1,2]]]);
//# sourceMappingURL=main.cead27b2.chunk.js.map