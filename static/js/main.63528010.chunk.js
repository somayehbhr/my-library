(this["webpackJsonpmy-library"]=this["webpackJsonpmy-library"]||[]).push([[0],{27:function(e,t,c){},34:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(21),i=c.n(r),o=(c(27),c(13)),l=c(0),s=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("ul",{className:"nav nav-tabs",id:"myTab",role:"tablist",children:[Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(o.b,{className:"nav-link",activeClassName:"active",id:"books-tab","data-toggle":"tab",to:"/books",role:"tab","aria-controls":"books","aria-selected":"true",children:"Books"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(o.b,{className:"nav-link",activeClassName:"active",id:"authors-tab","data-toggle":"tab",to:"/authors",role:"tab","aria-controls":"authors","aria-selected":"false",children:"Authors"})})]})})},d=c(2),u=c(11),j=c(9),b=c(4),h=c(8),O=function(e){return Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{scope:"col",children:"#"}),e.list.map((function(e){return Object(l.jsx)("th",{scope:"col",children:e},e)}))]})})},f=function(e){return Object(l.jsx)("button",{type:"button",className:"btn btn-outline-".concat(e.className),onClick:e.onClick,children:e.text})},m=function(e){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e.index+1}),Object(l.jsx)("td",{children:e.title}),Object(l.jsx)("td",{children:e.release_date}),Object(l.jsx)("td",{children:e.rate}),Object(l.jsx)("td",{children:e.author}),Object(l.jsx)("td",{children:e.category}),Object(l.jsx)("td",{children:e.price}),Object(l.jsxs)("td",{children:[Object(l.jsx)(f,{onClick:function(){return e.delete()},text:"Delete",className:"danger"}),Object(l.jsx)(f,{onClick:function(){return e.edit()},text:"Edit",className:"primary"})]})]})},x=function(e){var t=Object(n.useState)(""),c=Object(b.a)(t,2),a=c[0],r=c[1],i=Object(n.useState)(""),o=Object(b.a)(i,2),s=o[0],d=o[1],u=Object(n.useState)(""),j=Object(b.a)(u,2),O=j[0],m=j[1],x=Object(n.useState)(""),v=Object(b.a)(x,2),p=v[0],N=v[1],g=Object(n.useState)(""),y=Object(b.a)(g,2),k=y[0],C=y[1],S=Object(n.useState)(-1),I=Object(b.a)(S,2),w=I[0],_=I[1];return Object(n.useEffect)((function(){var t,c,n,a,i,o;r(null===(t=e.bookInfo)||void 0===t?void 0:t.title),d(null===(c=e.bookInfo)||void 0===c?void 0:c.release_date),m(null===(n=e.bookInfo)||void 0===n?void 0:n.rate),N(null===(a=e.bookInfo)||void 0===a?void 0:a.category),C(null===(i=e.bookInfo)||void 0===i?void 0:i.price),_(null===(o=e.bookInfo)||void 0===o?void 0:o.author_id)}),[e.bookInfo]),Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("form",{children:[Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col-md-4",children:[Object(l.jsx)("label",{htmlFor:"inputEmail4",children:"Title"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"autoSizingInput",placeholder:"Title",value:a,onChange:function(e){return r(e.target.value)}})]}),Object(l.jsxs)("div",{className:"col-md-4",children:[Object(l.jsx)("label",{htmlFor:"inputPassword4",children:"Release date"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"autoSizingInput",placeholder:"dd/mm/yyyy",value:s,onChange:function(e){return d(e.target.value)}})]}),Object(l.jsxs)("div",{className:"col-md-4",children:[Object(l.jsx)("label",{htmlFor:"inputPassword4",children:"Rate"}),Object(l.jsx)("input",{type:"number",className:"form-control",id:"autoSizingInput",placeholder:"Rate",value:O,onChange:function(e){return m(e.target.value)}})]})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col-md-4",children:[Object(l.jsx)("label",{htmlFor:"inputPassword4",children:"Category"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"autoSizingInput",placeholder:"Category",value:p,onChange:function(e){return N(e.target.value)}})]}),Object(l.jsxs)("div",{className:"col-md-4",children:[Object(l.jsx)("label",{htmlFor:"inputPassword4",children:"Price"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"autoSizingInput",placeholder:"Price",value:k,onChange:function(e){return C(e.target.value)}})]}),Object(l.jsxs)("div",{className:"col-md-4",children:[Object(l.jsx)("label",{htmlFor:"inputPassword4",children:"Authors"}),Object(l.jsxs)("select",{defaultValue:-1,className:"form-select",id:"autoSizingSelect",value:w,onChange:function(e){return _(Number(e.target.value))},children:[Object(l.jsx)("option",{value:-1,children:"Choose"}),h.authors.map((function(e){return Object(l.jsx)("option",{value:e.id,children:e.fullName},e.id)}))]})]})]}),Object(l.jsx)("br",{}),Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"col-md-3",children:Object(l.jsx)(f,{onClick:e.bookInfo?function(){e.onEditClick({id:e.id,title:a,rate:O,release_date:s,category:p,price:k,author_id:w}),r(""),d(""),m(""),N(""),C(""),_(-1)}:function(){e.onAddClick({id:e.id,title:a,rate:O,release_date:s,category:p,price:k,author_id:w}),r(""),d(""),m(""),N(""),C(""),_(-1)},text:e.bookInfo?"Edit":"Add",className:e.bookInfo?"primary":"success"})})})]})})},v=["title","release_date","rate","author","category","price","action"],p=function(){var e=Object(n.useState)(h.books),t=Object(b.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(),i=Object(b.a)(r,2),o=i[0],s=i[1];function d(e){var t;return null===(t=h.authors.find((function(t){return t.id===e})))||void 0===t?void 0:t.fullName}return Object(n.useEffect)((function(){var e=function(){try{return JSON.parse(window.localStorage.getItem("books"))}catch(e){return[]}}();Array.isArray(e)&&e.length?a(e):a(h.books)}),[]),Object(n.useEffect)((function(){!function(e){window.localStorage.setItem("books",JSON.stringify(e))}(c)}),[c]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(x,{id:c.length,onAddClick:function(e){var t=Math.floor(1e3*Math.random())+1,n=Object(u.a)(Object(u.a)({},e),{},{id:t});a([].concat(Object(j.a)(c),[n]))},bookInfo:o,onEditClick:function(e){var t=Object(j.a)(c),n=t.indexOf(o);t.splice(n,1),a([e].concat(Object(j.a)(t))),s(null)}}),Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("table",{className:"table",children:[Object(l.jsx)(O,{list:v}),Object(l.jsx)("tbody",{children:c.map((function(e,t){return Object(l.jsx)(m,Object(u.a)(Object(u.a)({},e),{},{index:t,author:d(e.author_id),delete:(n=e.id,function(){var e=c.filter((function(e){return e.id!==n}));a(e)}),edit:function(){return function(e){s(c.find((function(t){return t.id===e})))}(e.id)}}),e.id);var n}))})]})})]})},N=function(e){var t=Object(n.useState)(""),c=Object(b.a)(t,2),a=c[0],r=c[1];return Object(n.useEffect)((function(){var t;r(null===(t=e.authorInfo)||void 0===t?void 0:t.fullName)}),[e.authorInfo]),Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("form",{children:[Object(l.jsx)("div",{className:"row",children:Object(l.jsxs)("div",{className:"col-md-4",children:[Object(l.jsx)("label",{htmlFor:"inputEmail4",children:"Full name"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"autoSizingInput",placeholder:"Full name",value:a,onChange:function(e){return r(e.target.value)}})]})}),Object(l.jsx)("br",{}),Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"col-md-3",children:Object(l.jsx)(f,{onClick:e.authorInfo?function(){e.onEditClick({fullName:a}),r("")}:function(){e.onAddClick({fullName:a}),r("")},text:e.authorInfo?"Edit":"Add",className:e.authorInfo?"primary":"success"})})})]})})},g=function(e){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{scope:"col",children:e.index+1}),Object(l.jsx)("td",{scope:"col",children:e.fullName}),Object(l.jsx)("td",{scope:"col",children:e.numOfBooks}),Object(l.jsxs)("td",{children:[Object(l.jsx)(f,{onClick:function(){return e.delete},text:"Delete",className:"danger"}),Object(l.jsx)(f,{onClick:function(){return e.edit()},text:"Edit",className:"primary"})]})]})},y=["fullName","number Of Books","action"],k=h.books,C=function(){var e=Object(n.useState)(h.authors),t=Object(b.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(),i=Object(b.a)(r,2),o=i[0],s=i[1];function d(e){return function(){var t=c.filter((function(t){return t.id!==e}));a(t)}}return Object(n.useEffect)((function(){var e=function(){try{return JSON.parse(window.localStorage.getItem("authors"))}catch(e){return[]}}();Array.isArray(e)&&e.length?a(e):a(h.authors)}),[]),Object(n.useEffect)((function(){!function(e){window.localStorage.setItem("authors",JSON.stringify(e))}(c)}),[c]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(N,{onAddClick:function(e){var t=Math.floor(100*Math.random()),n=Object(u.a)({id:t},e);a([].concat(Object(j.a)(c),[n]))},authorInfo:o,onEditClick:function(e){var t=Object(j.a)(c),n=t.indexOf(o);t.splice(n,1),a([e].concat(Object(j.a)(t))),s(null)}}),Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("table",{className:"table",children:[Object(l.jsx)(O,{list:y}),Object(l.jsx)("tbody",{children:c.map((function(e,t){return Object(l.jsx)(g,{index:t,fullName:e.fullName,numOfBooks:(n=e.id,k.filter((function(e){return e.author_id===n})).length),delete:d(e.id),edit:function(){return function(e){s(c.find((function(t){return t.id===e})))}(e.id)}});var n}))})]})})]})},S=function(){return Object(l.jsxs)(o.a,{children:[Object(l.jsx)(s,{}),Object(l.jsx)(d.a,{from:"/",to:"/books",exact:!0}),Object(l.jsx)(d.b,{path:"/books",component:p}),Object(l.jsx)(d.b,{path:"/authors",component:C})]})};function I(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsx)(S,{})})}var w=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,35)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),r(e),i(e)}))};i.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(I,{})}),document.getElementById("root")),w()},8:function(e){e.exports=JSON.parse('{"authors":[{"id":0,"fullName":"Marleah Coundley"},{"id":1,"fullName":"Boonie Browne"},{"id":2,"fullName":"Alyssa Mcimmie"},{"id":3,"fullName":"Storm Mityushin"},{"id":4,"fullName":"Maressa Tamas"}],"books":[{"id":0,"title":"The Far Country","release_date":"11/12/2002","rate":2.7,"category":"classic","author_id":4,"price":"81.46"},{"id":1,"title":"Phoenix","release_date":"12/2/2008","rate":6.2,"category":"drama","author_id":4,"price":"62.18"},{"id":2,"title":"Hail Caesar","release_date":"7/11/2010","rate":7.6,"category":"comic","author_id":2,"price":"24.85"},{"id":3,"title":"Valley Girl","release_date":"10/14/2008","rate":4.3,"category":"horror","author_id":0,"price":"83.17"},{"id":4,"title":"Long Absence, The (Une aussi longue absence)","release_date":"11/27/1996","rate":1.7,"category":"classic","author_id":3,"price":"83.36"}]}')}},[[34,1,2]]]);
//# sourceMappingURL=main.63528010.chunk.js.map